<!DOCTYPE html>
   <html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" type="text/css" href="./styles/bootstrap.min.css">
      <!--=============== REMIXICONS ===============-->
      <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

      <!--=============== CSS ===============-->
      <link rel="stylesheet" href="assets/css/styles.css" type="text/css"/>
      <link rel="stylesheet" href="./styles/styles.css" type="text/css"/>

      <title>TH-SƯA TH TRUE MIIK</title>
   </head>

   <body>
      <div class="login"> 
         <img src="./styles/sua.jpeg" alt="login image" class="login__img">

         <div class="login__form">
            <h1 class="login__title">Đăng Ký</h1>

            <div class="login__content">
               <div class="login__box">
                  <i class="ri-user-follow-line"></i>

                  <div class="login__box-input">
                     <input type="text" required class="login__input" id="name-pass" placeholder=" ">
                     <label for="name-pass" class="login__label">Họ tên</label>
                     <!-- <i class="ri-eye-off-line login__eye" id="login-eye"></i> -->
                  </div>
               </div>
               <div class="login__box">
                  <i class="ri-phone-line"></i>

                  <div class="login__box-input">
                     <input type="text" required class="login__input" id="phone-pass" placeholder=" ">
                     <label for="phone-pass" class="login__label">Số điện thoại</label>
                     <!-- <i class="ri-eye-off-line login__eye" id="login-eye"></i> -->
                  </div>
               </div>
               <div class="login__box">
                  <i class="ri-user-3-line login__icon"></i>

                  <div class="login__box-input">
                     <input type="email" required class="login__input" id="login-email" placeholder=" ">
                     <label for="login-email" class="login__label">Email</label>
                  </div>
               </div>

               <div class="login__box">
                  <i class="ri-lock-2-line login__icon"></i>

                  <div class="login__box-input">
                     <input type="password" required class="login__input" id="login-pass" placeholder=" ">
                     <label for="login-pass" class="login__label">mật khẩu</label>
                     <i class="ri-eye-off-line login__eye" id="login-eye"></i>
                  </div>
               </div>
            </div>
 
            <div class="login__check">
               <div class="login__check-group">
                  <input type="checkbox" class="login__check-input" id="login-check">
                  <label for="login-check" class="login__check-label">Duy trì tài khoản</label>
               </div>
               
            </div>
         
            <button type="submit" class="login__button" id="redirectButton">Login</button>
         </div>
      </div>
         <script src="./styles/main.js" defer></script>
         <script>
            var button = document.getElementById('redirectButton');
            button.addEventListener('click', function(e) {
               // e.preventDefault();
               const email = document.getElementById('login-email').value;
               const password = document.getElementById('login-pass').value;
               const username = document.getElementById('phone-pass').value;
               const phoneNumber = document.getElementById('name-pass').value;
               // const data = {
               //     email,
               //     password,
               //     username,
               //     phoneNumber
               // }

               var myHeaders = new Headers();
               myHeaders.append("Content-Type", "application/x-www-form-urlencoded");
               var urlencoded = new URLSearchParams();
               urlencoded.append("email", email);
               urlencoded.append("password", password);
               urlencoded.append("username", username);
               urlencoded.append("phone", phoneNumber);
               // urlencoded.append("address", "chòa mnwgwf");

               var requestOptions = {
                  method: 'POST',
                  headers: myHeaders,
                  body: urlencoded,
                  redirect: 'follow'
               };

               fetch("http://localhost:3001/auth/sign-up", requestOptions)
                       .then(response => response.json())
                       .then(result => {
                          console.log(result);

                          if(result.status === 200){
                             window.location.href = '/sign-in-page';
                          } else if (result.status === 400){
                             alert(result.message);
                          }
                       })
                       .catch(error => console.log('error', error));
            });
         </script>
    </body>
        
</html>